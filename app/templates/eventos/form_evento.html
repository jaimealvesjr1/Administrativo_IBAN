{% extends 'base/layout.html' %}
{% from 'base/components/forms.html' import field %}
{% from 'base/components/buttons.html' import submit %}

{% block title %}
    {% if evento %}
        Editar {{ evento.nome }}
    {% else %}
        Criar Evento
    {% endif %}
{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="text-center mb-4">
        <img src="{{ url_for('static', filename='img/logo.png') }}" alt="Logo IBAN" style="max-height: 150px;">
    </div>
    <div class="card shadow-lg p-4 rounded-4 mx-auto" style="max-width: 500px;">
        <h2 class="text-center">
            <strong>
                {% if evento and evento.concluido %}
                    Editar Evento Concluído
                {% elif evento %}
                    Editar Evento: {{ evento.nome }}
                {% else %}
                    Criar Novo Evento
                {% endif %}
            </strong>
        </h2>
        <form method="POST" enctype="multipart/form-data">
            {{ form.hidden_tag() }}
            <div class="mb-3">
                {{ form.nome.label(class="form-label") }}
                {{ form.nome(class="form-control") }}
            </div>
            <div class="row mb-4">
                <div class="col-md-6">
                    {{ form.tipo_evento.label(class="form-label") }}
                    {{ form.tipo_evento(class="form-select") }}
                </div>
                <div class="col-md-6">
                    {{ form.data_evento.label(class="form-label") }}
                    {{ form.data_evento(class="form-control") }}
                </div>
            </div>
            <div class="mb-3">
                {{ form.observacoes.label(class="form-label") }}
                {{ form.observacoes(class="form-control") }}
            </div>
            <div class="mb-3">
                {% if evento %}
                    {{ submit('Salvar Alterações') }}
                {% else %}
                    {{ submit('Salvar Evento') }}
                {% endif %}
            </div>
            <div class="text-end mt-3">
                {% if evento %}
                    <a href="{{ url_for('eventos.gerenciar_evento', evento_id=evento.id) }}" class="btn btn-outline-secondary">⬅ Cancelar</a>
                {% else %}
                    <a href="{{ url_for('eventos.listar_eventos') }}" class="btn btn-outline-secondary">⬅ Voltar</a>
                {% endif %}
            </div>
        </form>
    </div>
</div>
{% endblock %}
