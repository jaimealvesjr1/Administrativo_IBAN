{% extends 'base/layout_simple.html' %}
{% block title %}PÃ¡gina Inicial Â· Administrativo{% endblock %}

{% block content %}
<div class="container text-center py-5">
    <div class="mb-5">
        <img src="{{ url_for('static', filename='img/logo.png') }}" alt="Logo IBAN" style="max-height: 200px;">
        <div class="d-flex justify-content-between align-items-center mt-3">
            <h1 style="color: var(--cor-primaria); margin-bottom: 0;">
            {% if current_user.is_authenticated and current_user.membro %}
              Bem-vindo {{ " ".join(current_user.membro.nome_completo.split(' ')[:2]) }}!
              {% else %}
              IBAN Administrativo
            {% endif %}
            </h1>
            {% if current_user.is_authenticated %}
            <a href="{{ url_for('auth.logout') }}" class="btn btn-outline-danger">ğŸšª Encerrar SessÃ£o</a>
            {% endif %}
        </div>
    </div>

    <div class="row justify-content-center g-4">
        {% if current_user.is_authenticated %}
            {% if current_user.membro %}
            <div class="col-6 col-md-4 col-lg-3">
                <a href="{{ url_for('membresia.perfil', id=current_user.membro.id) }}" class="module-button d-flex flex-column align-items-center justify-content-center text-decoration-none">
                    <i class="bi bi-person-circle icon-large mb-2"></i>
                    <span>Perfil</span>
                </a>
            </div>
            {% endif %}

            {% if current_user.is_leader() or current_user.has_permission('secretaria') or current_user.has_permission('admin') %}
            <div class="col-6 col-md-4 col-lg-3">
                <a href="{{ url_for('grupos.listar_grupos_unificada') }}" class="module-button d-flex flex-column align-items-center justify-content-center text-decoration-none">
                    <i class="bi bi-house-fill icon-large mb-2"></i>
                    <span>Grupos</span>
                </a>
            </div>
            {% endif %}

            {% if current_user.has_permission('admin') or current_user.has_permission('secretaria') %}
            <div class="col-6 col-md-4 col-lg-3">
                <a href="{{ url_for('membresia.index') }}" class="module-button d-flex flex-column align-items-center justify-content-center text-decoration-none">
                    <i class="bi bi-people-fill icon-large mb-2"></i>
                    <span>Membresia</span>
                </a>
            </div>
            <div class="col-6 col-md-4 col-lg-3">
                <a href="{{ url_for('ctm.index') }}" class="module-button d-flex flex-column align-items-center justify-content-center text-decoration-none">
                    <i class="bi bi-book-fill icon-large mb-2"></i>
                    <span>CTM</span>
                </a>
            </div>
            <div class="col-6 col-md-4 col-lg-3">
                <a href="{{ url_for('eventos.listar_eventos') }}" class="module-button d-flex flex-column align-items-center justify-content-center text-decoration-none" tabindex="-1">
                    <i class="bi bi-calendar-event-fill icon-large mb-2"></i>
                    <span>Eventos</span>
                </a>
            </div>
            {% endif %}
            
            {% if current_user.has_permission('financeiro') %}
            <div class="col-6 col-md-4 col-lg-3">
                <a href="{{ url_for('financeiro.index') }}" class="module-button d-flex flex-column align-items-center justify-content-center text-decoration-none">
                    <i class="bi bi-currency-dollar icon-large mb-2"></i>
                    <span>Financeiro</span>
                </a>
            </div>
            {% endif %}

            {% if current_user.has_permission('admin') or current_user.has_permission('secretaria') %}
            <div class="col-6 col-md-4 col-lg-3">
                <a href="{{ url_for('admin_users.list_users') }}" class="module-button d-flex flex-column align-items-center justify-content-center text-decoration-none">
                    <i class="bi bi-gear-fill icon-large mb-2"></i>
                    <span>Acessos</span>
                </a>
            </div>
            {% endif %}
        {% endif %}
    </div>
    </div>
{% endblock %}
